{"componentChunkName":"component---src-templates-blog-post-js","path":"/react-ch11-useState-post/","result":{"data":{"site":{"siteMetadata":{"title":"ByeongChan"}},"markdownRemark":{"id":"887a36d3-1845-5542-b757-010fc08e70d2","excerpt":"리액트를 으로 시작했다. 근데 이건 hook에 대해 전혀 다루지 않아서 hook에 대한 개념 조차 알지 못했다. 계속 리액트를 공부하다 보니 hook이란 것도 알게되어 정리하려한다. hook 기존 리액트는 class기반으로 작성되었다. 클래스는 constructor…","html":"<p>리액트를 <code class=\"language-text\">do it 리액트 프로그래밍</code>으로 시작했다. 근데 이건 hook에 대해 전혀 다루지 않아서 hook에 대한 개념 조차 알지 못했다. 계속 리액트를 공부하다 보니 hook이란 것도 알게되어 정리하려한다.</p>\n<h1>hook</h1>\n<p>기존 리액트는 class기반으로 작성되었다. 클래스는 constructor로 시작해서 render(), this 등의 기능이 존재하고 클래스의 생명주기에 따라서 렌더링된다. 또 생명주기에 따라 state를 언제 변경해야하는지, 변경된건 언제 적용이 되는지 확인할 수 있었다.</p>\n<p>하지만, 너무 구조화된 나머지 굳이 쓰지 않아도 되는 함수들을 사용해야하는 번거로움 때문에 코드가 지저분해지고 복잡해지는 현상이 발생했다고한다. 그래서 hook이라는 개념이 나온것이다. 무엇보다 클래스 컴포넌트에서는 component생명주기를 고려해서 componentDidMount(), componentWillMount(), constuctor()에 의존해야한다는 불편함이 크고, this를 매번 사용해야하는 번거로움이 존재한다.</p>\n<p>hook은 기본적으로 함수 컴포넌트로 구성되어야한다. 함수컴포넌트로 return값에 render값만 넣으면 render()를 별도로 사용하지 않아도 된다. 또한 state관리, 생명주기 관리, 비동기 처리 등을 하기 위해 hook 함수가 존재한다. 그중 가장 기본적으로 알아야할 것 <code class=\"language-text\">useState</code>를 먼저 정리하려고 한다.</p>\n<h2>useState</h2>\n<p>함수 명에서부터 냄새가 풍긴다. state와 관련된 냄새말이다. <code class=\"language-text\">useState</code>는 컴포넌트 내부 state의 수정 및 불러오는 기능을 한다. useState 에제에 앞서 클래스에서 state를 어떻게 처리했는지에 대한 예제부터 보자.</p>\n<h3>Class Component Example</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Redux03Class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      car<span class=\"token operator\">:</span> <span class=\"token string\">\"KIA\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      car<span class=\"token operator\">:</span> <span class=\"token string\">\"HYUNDAI\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> state <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Ths is Class Component<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>My car is <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>car<span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Redux03Class</code></pre></div>\n<p>state를 간단히 출력하는 예제이다. contructor, componentDidMount(), render() 3개의 함수가 사용되었다. 근데 단순히 state하나만 선언하고, 변경시켜준것밖에 없는데 저렇게 길게 작성해야한다. 위 예제는 간단해서 그렇지 복잡한 코드들은 더욱더 코드가 길어지게 된다. 이러한 것을 보완하기 위해 hook을 사용한다.</p>\n<h3>Function Component Example</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Redux03</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>car<span class=\"token punctuation\">,</span> setCar<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"KIA\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">setCar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HYUNDAI\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Ths is Class Component<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>My car is <span class=\"token punctuation\">{</span>car<span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Redux03</code></pre></div>\n<p>함수형 컴포넌트를 사용한 예제이다. useState()만을 사용해서 state를 관리한다. useState의 사용법은 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>상태값<span class=\"token punctuation\">,</span> 상태변경함수<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>초기값<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">[]</code>안에 state값과 state를 변경시킬 함수를 정의한다. 그리고 useState에 파라미터는 초기값으로 값을 넣어준다. 위 예제는 <code class=\"language-text\">car</code>라는 <strong>상태값</strong>과 <code class=\"language-text\">setCar</code>라는 <strong>상태변경함수</strong>, <code class=\"language-text\">KIA</code>라는 <strong>초기값</strong>을 넣어줬다.</p>\n<hr>\n<p>이렇게 useState를 사용하는 법을 알아봤다. 클래스 컴포넌트 대비 코드가 간결해졌고, 필요 이상의 코드들이 많이 줄어든것을 확인할 수 있었다. 또한 성능 역시 클래스 컴포넌트 보다 더 뛰어나다고 하니 사용하지 않을 수가 없다. 리액트에서도 hook의 사용을 권장하고 현재 대부분 변경하는 과정에 있다고 한다. 그렇다고 해서 현재 클래스 컴포넌트로 작성되어있는 것들을 함수형 컴포넌트로 변경시킬 필요까진 없다. 완벽 호환이 가능하기 때문이다. 앞으로 짜는 코드들은 hook으로 짜는것이 좋을 것 같다.</p>","frontmatter":{"title":"[React hook] hook에 대한 정리, hook에서의 state관리 useState","date":"December 21, 2020","description":""}}},"pageContext":{"slug":"/react-ch11-useState-post/","previous":{"fields":{"slug":"/react-ch10-redux4-post/"},"frontmatter":{"title":"[React] Redux hook으로 Redux 편하게 사용하기"}},"next":{"fields":{"slug":"/react-ch12-useEffect-post/"},"frontmatter":{"title":"[React hook] useEffect 기본 개념, 사용법"}}}},"staticQueryHashes":["1246554614","2841359383"]}